{"version":3,"sources":["./src/app/game/castle.ts","./src/app/character-bar/character-bar.component.ts","./src/app/character-bar/character-bar.component.html","./src/services/character.service.ts","./src/environments/environment.ts","./src/app/character-info/characterInfo.ts","./src/app/welcome/welcome.component.ts","./src/app/welcome/welcome.component.html","./src/app/player.ts","./src/app/game/collisioneffect.ts","./src/app/level-select/level-select.component.ts","./src/app/level-select/level-select.component.html","./src/app/typeinfo/typeinfo.component.ts","./src/app/typeinfo/typeinfo.component.html","./src/app/game/unit.ts","./src/app/multiplayer/multiplayer.component.ts","./src/app/multiplayer/multiplayer.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/services/game.service.ts","./src/app/app.module.ts","./src/app/team-info/team-info.component.ts","./src/app/team-info/team-info.component.html","./src/services/shopService.ts","./src/app/character-info/character-info.component.ts","./src/app/character-info/character-info.component.html","./src/app/game/game.component.ts","./src/app/game/game.component.html","./src/app/team-select/team-select.component.ts","./src/app/team-select/team-select.component.html","./src/app/cloud.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["import { CollisionEffect } from './collisioneffect';\r\n\r\nexport class Castle {  \r\n  x: number;\r\n  y: number;\r\n  damage: number = 0;\r\n  team: string;\r\n  side: number;\r\n\r\n  health: number;\r\n  maxHealth: number;\r\n  dead: boolean;\r\n\r\n  img: HTMLImageElement;\r\n\r\n  defendEffect: CollisionEffect;\r\n\r\n  constructor(x: number, y: number, team: string, side: number, health = 100, maxHealth = 100, dead = false, deffect?: CollisionEffect) { \r\n    this.x = x;\r\n    this.y = y;\r\n    this.team = team;\r\n    this.side = side;\r\n    this.health = health;\r\n    this.maxHealth = maxHealth;\r\n    this.dead = dead;\r\n\r\n    this.defendEffect = deffect;\r\n\r\n    this.img = new Image();\r\n    this.img.src = \"../assets/img/castles/\" + team + \" castle.png\";\r\n  }\r\n\r\n  public draw(context) {\r\n    if (this.health <= 0) {\r\n      this.drawDead(context);\r\n      return;\r\n    }\r\n\r\n    this.defendEffect.draw(context, this.x, this.y);\r\n\r\n    var ctx = context;\r\n    let x = this.x;\r\n    let y = this.y;\r\n\r\n    ctx.drawImage(this.img, x, y);\r\n    let width = 200 * (this.health/this.maxHealth);\r\n    if (width < 0)\r\n      width = 0;\r\n    \r\n    if (width > 75)\r\n      context.fillStyle = \"green\";\r\n    else if (width > 30)\r\n      context.fillStyle = \"yellow\";\r\n    else if (width > 10)\r\n      context.fillStyle = \"red\";\r\n    else\r\n      context.fillStyle = \"darkred\";\r\n\r\n    context.fillRect(this.x, this.y - 10, width, 5);\r\n\r\n    let healthText = Math.round(this.health);\r\n    let maxHealthText = Math.round(this.maxHealth);\r\n    ctx.font = \"10px serif\";\r\n    ctx.fillStyle = \"black\";\r\n    ctx.fillText(healthText + \"/\" + maxHealthText, this.x + 85, this.y - 15);\r\n  }\r\n\r\n  public drawDead = (context) => {\r\n    var ctx = context;\r\n    var deadimg = new Image();\r\n    deadimg.src = \"../assets/img/castles/dead castle.png\";\r\n    \r\n    let x = this.x;\r\n    let y = this.y;\r\n    ctx.drawImage(deadimg, x, y);\r\n  }\r\n\r\n  public static parseCastle(data): Castle {   \r\n    return new Castle(\r\n      (data.side == 1) ? 50 : 1250,\r\n      250,\r\n      data.team,\r\n      data.side,\r\n      data.health,\r\n      data.maxHealth,\r\n      data.dead,\r\n      CollisionEffect.parseCollisionEffect(data.defendEffect)\r\n    );\r\n  }\r\n}\r\n","import { Component, Input, ViewEncapsulation, OnInit, AfterViewInit } from '@angular/core';\r\nimport { CharacterService } from '../../services/character.service'; \r\nimport { AppComponent } from '../app.component';\r\nimport { ShopService } from '../../services/shopService';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-character-bar',\r\n  templateUrl: './character-bar.component.html',\r\n  styleUrls: ['./character-bar.component.css'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class CharacterBarComponent implements OnInit, AfterViewInit {\r\n  @Input('side') side: number;\r\n  @Input('team') team: string;\r\n  @Input('id') id: number;\r\n\r\n  static shopServices: ShopService;\r\n\r\n  incomePrice: number = -1;\r\n  healthPrice: number = -1;\r\n\r\n  constructor(private characterServices: CharacterService, private http: HttpClient) { }\r\n\r\n  ngOnInit () {\r\n    \r\n  }\r\n  ngAfterViewInit() {\r\n    if (this.side >= 3)\r\n      return;\r\n\r\n    document.getElementById(\"character-bar\").classList.add(this.team);\r\n\r\n    CharacterBarComponent.shopServices = new ShopService(this.http);\r\n    this.initBar();\r\n\r\n    document.getElementById(\"income\").onmouseup = async() => {\r\n      await CharacterBarComponent.shopServices.buy(this.id, this.side, \"income\");\r\n      this.incomePrice = await CharacterBarComponent.shopServices.getNewIncomePrice(this.id, this.side);\r\n    }\r\n    document.getElementById(\"health\").onmouseup = async() => {\r\n      await CharacterBarComponent.shopServices.buy(this.id, this.side, \"health\");\r\n      this.healthPrice = await CharacterBarComponent.shopServices.getNewHealthPrice(this.id, this.side);\r\n    }\r\n  }\r\n\r\n  async initBar() {\r\n    var fullTeam = AppComponent.teamMap.get(this.team); \r\n    \r\n    for (var i = 0; i < 8; i++) {\r\n      let currentchar = fullTeam[i];\r\n      let charprice = await this.characterServices.getPrice(this.team, currentchar);\r\n      \r\n      let charhtml = \"<label class='price\";\r\n      if (this.team == \"black\") \r\n        charhtml += \" black-unit\";\r\n      charhtml += \"'>$\" + charprice + \"</label><img src='../../assets/img/icons/\" + currentchar + \" icon.png'>\";\r\n\r\n      document.getElementsByClassName(\"character\")[i].innerHTML += charhtml;\r\n      document.getElementsByClassName(\"cooldown\")[i].id = currentchar + \"cooldown\";\r\n      document.getElementsByClassName(\"character\")[i].addEventListener(\"mouseup\", (e) => {\r\n        CharacterBarComponent.shopServices.buy(this.id, this.side, currentchar);\r\n      });\r\n    }\r\n\r\n    this.getIncomePriceAsync();\r\n    this.getHealthPriceAsync();\r\n  }\r\n\r\n  addCooldown = (name) => {\r\n    document.getElementById(name+\"cooldown\").style.display = \"inline-block\";\r\n  }\r\n  removeCooldown = (name) => {\r\n    document.getElementById(name+\"cooldown\").style.display = \"none\";\r\n  }\r\n\r\n  getIncomePriceAsync = async() => {\r\n    this.incomePrice = await CharacterBarComponent.shopServices.getNewIncomePrice(this.id, this.side);\r\n  }\r\n  getHealthPriceAsync = async() => {\r\n    this.healthPrice = await CharacterBarComponent.shopServices.getNewHealthPrice(this.id, this.side);\r\n  }\r\n}","<div *ngIf=\"side<3; else spectate\">\r\n    <div id=\"income\">\r\n        Increase Income:<br/>\r\n        ${{ incomePrice }}\r\n    </div>\r\n    <div id=\"character-bar\" style=\"display: inline-block;\">\r\n        <!-- Dynamic Character icons go here -->\r\n        <div class=\"character first\"></div>\r\n        <div class=\"cooldown\" style=\"top: 10px; left: 316px;\"></div>\r\n        <div class=\"character\"></div>\r\n        <div class=\"cooldown\" style=\"top: 10px; left: 426px;\"></div>\r\n        <div class=\"character\"></div>\r\n        <div class=\"cooldown\" style=\"top: 10px; left: 536px;\"></div>\r\n        <div class=\"character\"></div>\r\n        <div class=\"cooldown\" style=\"top: 10px; left: 646px;\"></div>\r\n        <div class=\"character\"></div>\r\n        <div class=\"cooldown\" style=\"top: 10px; left: 756px;\"></div>\r\n        <div class=\"character\"></div>\r\n        <div class=\"cooldown\" style=\"top: 10px; left: 866px;\"></div>\r\n        <div class=\"character\"></div>\r\n        <div class=\"cooldown\" style=\"top: 10px; left: 976px;\"></div>\r\n        <div class=\"character\"></div>\r\n        <div class=\"cooldown\" style=\"top: 10px; left: 1086px;\"></div>\r\n    </div>\r\n    <div id=\"health\">\r\n        Increase Castle Health:<br/>\r\n        ${{ healthPrice }}\r\n    </div>\r\n</div>\r\n<ng-template #spectate>\r\n    <div id=\"spectate\">\r\n        Spectating Game\r\n    </div>\r\n</ng-template>","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from '../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CharacterService {\r\n  constructor(private http: HttpClient) {\r\n    this.http = http;\r\n  }\r\n\r\n  public getCharacter(team: string, name: string): Promise<string> {\r\n    return this.http.get<string>(environment.apiURL + 'api/characters/getcharacter/' + team + '/' + name).toPromise();\r\n  }\r\n\r\n  public getPrice(team: string, name: string): Promise<number> {\r\n    return this.http.get<number>(environment.apiURL + 'api/characters/getprice/' + team + '/' + name).toPromise();\r\n  }\r\n\r\n  public getTeam(team: string): Promise<string[]> {\r\n    return this.http.get<string[]>(environment.apiURL + 'api/characters/getteam/' + team).toPromise();\r\n  }\r\n\r\n  public getInfo(team: string, name: string) {\r\n    return this.http.get<number>(environment.apiURL + 'api/characters/getinfo/' + team + '/' + name).toPromise();\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  apiURL: 'https://localhost:44364/'\r\n};\r\n","import { CharacterService } from '../../services/character.service';\r\n\r\nexport class CharacterInfo {\r\n    health: number;\r\n    damage: number;\r\n    type: string;\r\n    speed: number;\r\n    team: string;\r\n    name: string;\r\n    description: string;\r\n\r\n    constructor(team: string, name: string, private characterServices: CharacterService) {\r\n        if (name == \"unknown\") {\r\n            this.health = 0;\r\n            this.damage = 0;\r\n            this.type = \"-\";\r\n            this.speed = 0;\r\n            this.team = \"-\";\r\n            this.name = \"Loading...\";\r\n            this.description = \"...\";\r\n        } else\r\n            this.constructAsync(team, name);\r\n    }\r\n\r\n    constructAsync = async(team: string, name: string) => {\r\n        var data = await <any>this.characterServices.getInfo(team, name);\r\n        console.log(data);\r\n        this.health = data.health;\r\n        this.damage = data.damage;\r\n        this.type = data.type;\r\n        document.getElementById(\"damage-type\").style.backgroundColor = this.type;\r\n        this.speed = data.speed;\r\n        this.team = team;\r\n        this.name = name.charAt(0).toUpperCase() + name.substring(1);\r\n        this.description = data.description;\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { AppComponent } from '../app.component';\r\nimport { User } from '../user';\r\nimport { Cloud } from '../cloud';\r\n\r\n@Component({\r\n  selector: 'app-welcome',\r\n  templateUrl: './welcome.component.html',\r\n  styleUrls: ['./welcome.component.css']\r\n})\r\nexport class WelcomeComponent implements OnInit {\r\n  loggedIn = false;\r\n  canvas: HTMLCanvasElement;\r\n  context: CanvasRenderingContext2D;\r\n  background: HTMLImageElement;\r\n  clouds: Cloud[];\r\n  nextCloud: number;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    var modal = document.getElementById(\"instruction-modal\");\r\n    var open = document.getElementById(\"instructions\");\r\n    var close = <HTMLElement>document.getElementsByClassName(\"close\")[0];\r\n\r\n    this.canvas = <HTMLCanvasElement> document.getElementById(\"background-canvas\");\r\n    this.context = this.canvas.getContext(\"2d\");\r\n\r\n    this.background = new Image();\r\n    this.background.src = \"../../assets/img/background/background default.png\";\r\n\r\n    this.clouds = [\r\n      new Cloud(100),\r\n      new Cloud(600),\r\n      new Cloud(900),\r\n      new Cloud(1300),\r\n    ];\r\n    this.nextCloud = Math.floor(Math.random() * 25);\r\n\r\n    open.onclick = function() {\r\n      modal.style.display = \"block\";\r\n    }\r\n\r\n    close.onclick = function() {\r\n      modal.style.display = \"none\";\r\n    }\r\n\r\n    window.onclick = function(event) {\r\n      if (event.target == modal) {\r\n          modal.style.display = \"none\";\r\n      }\r\n    }\r\n    \r\n    this.draw_background();\r\n\r\n    // LOGIN LOGIC VVV\r\n    /*document.getElementById(\"login-button\").addEventListener(\"click\", async () => {\r\n      let username = (<any>document.getElementById(\"username\")).value;\r\n      let password = (<any>document.getElementById(\"password\")).value;\r\n\r\n      let tempData = await AppComponent.userServices.Login(username, password);\r\n      AppComponent.user = User.parseUser(tempData);\r\n\r\n      if (AppComponent.user.name != \"new_user\") {\r\n        this.loggedIn = true;\r\n        document.getElementById(\"login\").innerHTML = \"\";\r\n        document.getElementById(\"user-info\").innerHTML = \"Logged in as: \" + AppComponent.user.name;\r\n      }\r\n    });*/\r\n  }\r\n\r\n  draw_background = () => {\r\n    if (this.nextCloud > 0)\r\n      this.nextCloud--;\r\n    else {\r\n      this.nextCloud = Math.floor(Math.random() * 40);\r\n      this.clouds.push(new Cloud());\r\n    }\r\n    \r\n    this.context.drawImage(this.background, 0, 0);\r\n\r\n    if (typeof this.clouds != 'undefined')\r\n      this.clouds.forEach((cloud) => {\r\n        cloud.draw(this.context);\r\n      });\r\n\r\n    setTimeout(this.draw_background, 100);\r\n  }\r\n}","<canvas id=\"background-canvas\" width=\"1500\" height=\"500\"></canvas>\r\n<div id=\"main-view\">\r\n    <h1>The Great Castle Defense Game!</h1>\r\n    <h2>Choose Your Game Mode:</h2>\r\n    <div id=\"main-button-container\">\r\n        <button routerLink='levelselect' id=\"sp\">Singleplayer</button>\r\n        <button routerLink='multiplayer' id=\"mp\">Multiplayer</button>\r\n    </div>\r\n</div>\r\n<div id=\"footer\">\r\n    <div id=\"footer-button-container\">\r\n        <button id=\"instructions\">Instructions</button>\r\n        <button routerLink='teaminfo' id=\"character-stats\">Character Stats</button>\r\n        <button routerLink='typeinfo' id=\"type-effects\">Damage Type Info</button>\r\n    </div>\r\n</div>\r\n\r\n<!-- Instructions Modal -->\r\n<div id=\"instruction-modal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n        <span class=\"close\">&times;</span>\r\n        <h1 class=\"modal-header\">Instructions:</h1>\r\n        <p>This is a castle defense game, the aim of the game is to power up and purchase units to attack the enemy castle while keeping your own castle safe!</p>\r\n        <br/>\r\n        <p>Different units attack with different types of damage. Damage may be increased or decreased based on the team of the recipient of the damage!</p>\r\n        <br/>\r\n        <h1 class=\"modal-header\">Singleplayer:</h1>\r\n        <p>Choose your favorite team and battle against a variety of opponents in 8 different levels who will send units at you in a pre-defined pattern!</p>\r\n        <p>Be careful though! The levels get difficult very quickly!</p>\r\n        <br/>\r\n        <h1 class=\"modal-header\">Multiplayer:</h1>\r\n        <p>Pit your best strategies against your friends in a 2-player battle!</p>\r\n        <p>Create a new game and you will be assigned a random Game ID!</p>\r\n        <p>Once you have your ID, your friend will be able to join your game by typing in the ID, or selecting it from the game browser!</p>\r\n        <p>When the game is filled the battle begins!</p>\r\n    </div>\r\n</div>\r\n<!--\r\n<div id=\"login\">\r\n    <h2>Login: </h2>\r\n    <div class=\"container\" id=\"test\">\r\n        <label for=\"uname\"><b>Username</b></label>\r\n        <input type=\"text\" id=\"username\" placeholder=\"Enter Username\" name=\"uname\" required>\r\n\r\n        <label for=\"psw\"><b>Password</b></label>\r\n        <input type=\"password\" id=\"password\" placeholder=\"Enter Password\" name=\"psw\" required>\r\n\r\n        <button type=\"submit\" id=\"login-button\">Login</button>\r\n    </div>\r\n</div>\r\n<div id=\"user-info\">\r\n    \r\n</div>\r\n-->","import { Castle } from './game/castle';\r\n\r\nexport class Player {\r\n    money: number;\r\n    income: number;\r\n    incomePrice: number;\r\n    healthPrice: number;\r\n\r\n    castle: Castle;\r\n    side: number;\r\n\r\n    constructor(money: number, income: number, incomePrice: number, healthPrice: number, side: number, castle: Castle) {\r\n        this.money = money;\r\n        this.income = income;\r\n        this.incomePrice = incomePrice;\r\n        this.healthPrice = healthPrice;\r\n        this.side = side;\r\n        this.castle = castle;\r\n    }\r\n\r\n    public updatePlayer(data, id: number) {\r\n        if (typeof data[id] == 'undefined')\r\n            return;\r\n        \r\n        this.money = data[id].money;\r\n        this.income = data[id].income;\r\n        this.incomePrice = data[id].incomePrice;\r\n        this.healthPrice = data[id].healthPrice;\r\n        this.side = data[id].side;\r\n        this.castle = Castle.parseCastle(data[id].castle);\r\n    }\r\n    public static parsePlayer(data, id: number): Player {\r\n        return new Player(data[id].money, data[id].income, data[id].incomePrice, data[id].healthPrice, data[id].side, Castle.parseCastle(data[id].castle));\r\n    }\r\n}","export class CollisionEffect {\r\n    stance: string;\r\n    type: string;\r\n    color: string;\r\n\r\n    icon: HTMLImageElement;\r\n    attackEffect: HTMLImageElement;\r\n\r\n    constructor(stance: string, collisionType: number, color: string) {\r\n        this.stance = stance;\r\n        if (collisionType == 2) \r\n            this.type = \"mitigated\";\r\n        else\r\n            this.type = \"enhanced\";\r\n        this.color = color;\r\n\r\n        this.icon = new Image();\r\n        if (this.stance == \"attack\") {\r\n            this.icon.src = \"../assets/img/collisions/swords/\" + this.color + \" sword.png\";\r\n            this.attackEffect = new Image();\r\n            this.attackEffect.src = \"../assets/img/collisions/swords/\" + this.type + \".png\";\r\n        } \r\n        if (this.stance == \"defend\") {\r\n            this.icon.src = \"../assets/img/collisions/shields/\" + this.color + \" shield \" + this.type + \".png\";\r\n        }\r\n    }\r\n\r\n    draw = (context, x: number, y: number) => {\r\n        if (this.stance == \"attack\") {\r\n            context.drawImage(this.icon, x, y);\r\n            context.drawImage(this.attackEffect, x, y + 15);\r\n        }\r\n        if (this.stance == \"defend\") {\r\n            context.drawImage(this.icon, x + 30, y);\r\n        }\r\n    }\r\n\r\n    public static parseCollisionEffect(data): CollisionEffect {\r\n        return new CollisionEffect(data.stance, data.collisionType, data.color);\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { GameService } from 'src/services/game.service';\r\nimport { Router } from '@angular/router';\r\nimport { Cloud } from '../cloud';\r\n\r\n@Component({\r\n  selector: 'app-level-select',\r\n  templateUrl: './level-select.component.html',\r\n  styleUrls: ['./level-select.component.css']\r\n})\r\nexport class LevelSelectComponent implements OnInit {\r\n  team = \"white\";\r\n  id = 1;\r\n  side = 1;\r\n\r\n  canvas: HTMLCanvasElement;\r\n  context: CanvasRenderingContext2D;\r\n  background: HTMLImageElement;\r\n  clouds: Cloud[];\r\n  nextCloud: number;\r\n\r\n  constructor(private gameServices: GameService, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    var levels = document.getElementsByClassName(\"level\");\r\n    \r\n    for (var i = 0; i < levels.length; i++) {\r\n      levels[i].addEventListener(\"click\", (e) => {\r\n        var level = <HTMLElement> e.target;\r\n        this.id = Number(level.innerText);\r\n\r\n        for (var i = 0; i < levels.length; i++)\r\n          levels[i].classList.remove(\"selected\");\r\n        level.classList.add(\"selected\");\r\n      });\r\n    }\r\n\r\n    var modal = document.getElementById(\"instruction-modal\");\r\n    var open = document.getElementById(\"instructions\");\r\n    var close = <HTMLElement>document.getElementsByClassName(\"close\")[0];\r\n\r\n    this.canvas = <HTMLCanvasElement> document.getElementById(\"background-canvas\");\r\n    this.context = this.canvas.getContext(\"2d\");\r\n\r\n    this.background = new Image();\r\n    this.background.src = \"../../assets/img/background/background default.png\";\r\n\r\n    this.clouds = [\r\n      new Cloud(100),\r\n      new Cloud(600),\r\n      new Cloud(900),\r\n      new Cloud(1300),\r\n    ];\r\n    this.nextCloud = Math.floor(Math.random() * 25);\r\n\r\n    open.onclick = function() {\r\n      modal.style.display = \"block\";\r\n    }\r\n\r\n    close.onclick = function() {\r\n      modal.style.display = \"none\";\r\n    }\r\n\r\n    window.onclick = function(event) {\r\n      if (event.target == modal) {\r\n          modal.style.display = \"none\";\r\n      }\r\n    }\r\n\r\n    this.draw_background();\r\n  }\r\n\r\n  checkGame = async() => {\r\n    document.getElementById(\"start\").addEventListener(\"click\", () => {});\r\n    this.updateTeam();\r\n    this.id = await this.gameServices.getLevelID(this.id);\r\n    this.router.navigate([\"../game/\", this.id, this.team, this.side]);\r\n  }\r\n  updateTeam = () => {\r\n    this.team = document.getElementsByClassName(\"selected\")[1].id;\r\n  }\r\n\r\n  draw_background = () => {\r\n    if (this.nextCloud > 0)\r\n      this.nextCloud--;\r\n    else {\r\n      this.nextCloud = Math.floor(Math.random() * 40);\r\n      this.clouds.push(new Cloud());\r\n    }\r\n    \r\n    this.context.drawImage(this.background, 0, 0);\r\n\r\n    if (typeof this.clouds != 'undefined')\r\n      this.clouds.forEach((cloud) => {\r\n        cloud.draw(this.context);\r\n      });\r\n\r\n    setTimeout(this.draw_background, 100);\r\n  }\r\n}\r\n","<canvas id=\"background-canvas\" width=\"1500\" height=\"500\"></canvas>\r\n<div id=\"main-view\">\r\n    <h2>Choose your level!</h2>\r\n    <div id=\"level-select\">\r\n        <div class=\"level selected\">1</div>\r\n        <div class=\"level\">2</div>\r\n        <div class=\"level\">3</div>\r\n        <div class=\"level\">4</div>\r\n        <div class=\"level\">5</div>\r\n        <div class=\"level\">6</div>\r\n        <div class=\"level\">7</div>\r\n        <div class=\"level\">8</div>\r\n    </div>\r\n\r\n    <app-team-select></app-team-select>\r\n\r\n    <button (click)=\"checkGame()\" id=\"start\">Start Game!</button>\r\n</div>\r\n<div id=\"footer\">\r\n    <div id=\"footer-button-container\">\r\n        <button id=\"back\" [routerLink]=\"['']\">Back to Main Menu</button>\r\n        <button id=\"instructions\">Instructions</button>\r\n    </div>\r\n</div>\r\n\r\n<!-- Instructions Modal -->\r\n<div id=\"instruction-modal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n        <span class=\"close\">&times;</span>\r\n        <h1 class=\"modal-header\">Instructions:</h1>\r\n        <p>This is a castle defense game, the aim of the game is to power up and purchase units to attack the enemy castle while keeping your own castle safe!</p>\r\n        <br/>\r\n        <h1 class=\"modal-header\">Singleplayer:</h1>\r\n        <p>Choose your favorite team and battle against a variety of opponents in 8 different levels who will send units at you in a pre-defined pattern!</p>\r\n        <p>Be careful though! The levels get difficult very quickly!</p>\r\n        <br/>\r\n        <h1 class=\"modal-header\">Multiplayer:</h1>\r\n        <p>Pit your best strategies against your friends in a 2-player battle!</p>\r\n        <p>Create a new game and you will be assigned a random Game ID!</p>\r\n        <p>Once you have your ID, your friend will be able to join your game and the battle begins!</p>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-typeinfo',\r\n  templateUrl: './typeinfo.component.html',\r\n  styleUrls: ['./typeinfo.component.css']\r\n})\r\nexport class TypeinfoComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    var modal = document.getElementById(\"instruction-modal\");\r\n    var open = document.getElementById(\"instructions\");\r\n    var close = <HTMLElement>document.getElementsByClassName(\"close\")[0];\r\n\r\n    close.onclick = function() {\r\n      modal.style.display = \"none\";\r\n    }\r\n\r\n    window.onclick = function(event) {\r\n      if (event.target == modal) {\r\n          modal.style.display = \"none\";\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","<div id=\"type-info-view\">\r\n\r\n</div>\r\n<div id=\"footer\">\r\n    <div id=\"footer-button-container\">\r\n        <button id=\"back\" [routerLink]=\"['']\">Back to Main Menu</button>\r\n    </div>\r\n</div>\r\n\r\n<!-- Instructions Modal -->\r\n<div id=\"instruction-modal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n        <span class=\"close\">&times;</span>\r\n        <h1 class=\"modal-header\">Type Effects:</h1>\r\n        <p>In the game each unit is a member of a colored team, but will attack with a specific type of attack.</p>\r\n        <p>A unit does not necessarily attack with the same type of damage as its team!</p>\r\n        <p>Different teams are strong or weak against attacks of different types, so knowing these effects can be a great asset in battle!</p>\r\n        <p>Some Attack types do bonus damage to towers as well, while other teams will gain a bonus to the HP of their castle at the beginning of the game!</p>\r\n        <p>This page lists all the type effects in the game.</p>\r\n        <h1 class=\"modal-header\">Legend:</h1>\r\n        <p>Colors on the left side of an arrow are attacking colors</p>\r\n        <p>Colors on the right side of an arrow are defending colors</p>\r\n        <p>A normal arrow denotes a type ADVANTAGE (enhanced damage)</p>\r\n        <p>An X'd arrow denotes a type DISADVANTAGE (mitigated damage)</p>\r\n    </div>\r\n</div>","import { CollisionEffect } from './collisioneffect';\r\n\r\nexport class Unit {\r\n    name: string;\r\n    side: number;\r\n\r\n    health: number;\r\n    maxHealth: number;\r\n\r\n    x: number;\r\n    y: number;\r\n    size: number;\r\n\r\n    sprite: HTMLImageElement;\r\n\r\n    attackEffect: CollisionEffect;\r\n    defendEffect: CollisionEffect;\r\n\r\n    constructor(name: string, side: number, health: number, maxHealth: number, size: number, x: number, y = 400, aeffect: CollisionEffect, deffect: CollisionEffect) {\r\n        this.sprite = new Image();\r\n        this.sprite.src = \"../assets/img/units/\" + name + side + \".png\"\r\n\r\n        this.name = name;\r\n        this.side = side;\r\n     \r\n        this.health = health;\r\n        this.maxHealth = maxHealth;\r\n        this.size = size;\r\n        \r\n        this.x = x;\r\n        this.y = y;\r\n\r\n        this.attackEffect = aeffect;\r\n        this.defendEffect = deffect;\r\n    }\r\n\r\n    draw(context) {\r\n        context.drawImage(this.sprite, this.x, this.y);\r\n\r\n        this.attackEffect.draw(context, this.x, this.y);\r\n        this.defendEffect.draw(context, this.x, this.y);\r\n\r\n        let currentHealth = this.health/this.maxHealth;\r\n        let width = (this.size + 10) * currentHealth;\r\n        if (width < 0)\r\n            width = 0;\r\n\r\n        if (currentHealth > 0.75)\r\n        context.fillStyle = \"green\";\r\n            else if (currentHealth > 0.30)\r\n        context.fillStyle = \"yellow\";\r\n            else if (currentHealth > 0.10)\r\n        context.fillStyle = \"red\";\r\n            else\r\n        context.fillStyle = \"darkred\";\r\n\r\n        context.fillRect(this.x - 5, this.y - 10, width, 5);\r\n    }\r\n\r\n    public static parseUnits(data): Unit[] {\r\n        var units: Unit[];\r\n        units = [];\r\n\r\n        for (var i = 0; i < data.length; i++)\r\n            units.push(\r\n                new Unit(\r\n                    data[i].name,\r\n                    data[i].side,\r\n                    data[i].health,\r\n                    data[i].maxHealth,\r\n                    data[i].size,\r\n                    data[i].x,\r\n                    data[i].y,\r\n                    CollisionEffect.parseCollisionEffect(data[i].attackEffect),\r\n                    CollisionEffect.parseCollisionEffect(data[i].defendEffect)                )\r\n            );\r\n\r\n        return units;\r\n    }\r\n\r\n    public equals = (obj: any): boolean => {\r\n        if (\r\n            this.side == obj.side\r\n            && this.name == obj.name\r\n            && this.maxHealth == obj.maxHealth\r\n            && this.size == obj.size\r\n            && this.x == obj.x\r\n            && this.y == obj.y\r\n        )\r\n            return true;\r\n        return false;\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Cloud } from '../cloud';\r\nimport { GameService } from 'src/services/game.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-multiplayer',\r\n  templateUrl: './multiplayer.component.html',\r\n  styleUrls: ['./multiplayer.component.css']\r\n})\r\nexport class MultiplayerComponent implements OnInit {\r\n  team = \"white\";\r\n  id = 1000;\r\n  allIDsandStates = {};\r\n  gameIDs = [];\r\n\r\n  canvas: HTMLCanvasElement;\r\n  context: CanvasRenderingContext2D;\r\n  background: HTMLImageElement;\r\n  clouds: Cloud[];\r\n  nextCloud: number;\r\n\r\n  constructor(private router: Router, private gameServices: GameService) { }\r\n\r\n  ngOnInit() {\r\n    this.updateGamesAsync();\r\n\r\n    var instructionModal = document.getElementById(\"instruction-modal\");\r\n    var browserModal = document.getElementById(\"game-browser-modal\");\r\n    var instructionOpen = document.getElementById(\"instructions\");\r\n    var browserOpen = document.getElementById(\"game-browser\");\r\n    var instructionClose = <HTMLElement>document.getElementsByClassName(\"close\")[0];\r\n    var browserClose = <HTMLElement>document.getElementsByClassName(\"close\")[1];\r\n\r\n    this.canvas = <HTMLCanvasElement> document.getElementById(\"background-canvas\");\r\n    this.context = this.canvas.getContext(\"2d\");\r\n\r\n    this.background = new Image();\r\n    this.background.src = \"../../assets/img/background/background default.png\";\r\n\r\n    this.clouds = [\r\n      new Cloud(100),\r\n      new Cloud(600),\r\n      new Cloud(900),\r\n      new Cloud(1300),\r\n    ];\r\n    this.nextCloud = Math.floor(Math.random() * 25);\r\n\r\n    instructionOpen.onclick = () => {\r\n      instructionModal.style.display = \"block\";\r\n    }\r\n    browserOpen.onclick = () => {\r\n      this.updateGamesAsync();\r\n      browserModal.style.display = \"block\";\r\n    }\r\n\r\n    instructionClose.onclick = () => {\r\n      instructionModal.style.display = \"none\";\r\n    }\r\n    browserClose.onclick = () => {\r\n      browserModal.style.display = \"none\";\r\n    }\r\n\r\n    window.onclick = (event) => {\r\n      if (event.target == instructionModal) {\r\n          instructionModal.style.display = \"none\";\r\n      }\r\n      if (event.target == browserModal) {\r\n        browserModal.style.display = \"none\";\r\n      }\r\n    }\r\n\r\n    document.getElementById(\"game-id\").onchange = () => {\r\n      document.getElementById(\"jg\").classList.add(\"unverified\");\r\n    }\r\n\r\n    this.draw_background();\r\n  }\r\n\r\n  updateGamesAsync = async() => {\r\n    var jsonData = await this.gameServices.getAllGameIDsAndStates();\r\n    var obj = <Object>jsonData;\r\n    this.allIDsandStates = obj;\r\n    if (Object.keys(this.allIDsandStates))\r\n      this.gameIDs = Object.keys(this.allIDsandStates);\r\n    else\r\n      this.gameIDs = [];\r\n  }\r\n\r\n  setId = (id: number) => {\r\n    this.id = id;\r\n    document.getElementById(\"game-browser-modal\").style.display = \"none\";\r\n    (<any>document.getElementById(\"game-id\")).value = this.id;\r\n    document.getElementById(\"jg\").classList.remove(\"unverified\");\r\n  }\r\n  updateTeam = () => {\r\n    this.team = document.getElementsByClassName(\"selected\")[0].id;\r\n  }\r\n  getNewId = () => {\r\n    this.id = Math.floor((Math.random() * 9000) + 1000);\r\n    while (this.id in this.allIDsandStates)\r\n      this.id = Math.floor((Math.random() * 9000) + 1000);\r\n  }\r\n  tryId = (): boolean => {\r\n    this.id = <number>(<any>document.getElementById(\"game-id\")).value;\r\n    \r\n    if (this.id < 1000 || this.id > 9999)\r\n      return false;\r\n    if (!(this.id in this.allIDsandStates))\r\n      return false;\r\n    if (this.allIDsandStates[this.id] != 1)\r\n      return false;\r\n    return true;\r\n  }\r\n\r\n  newGame = async() => {\r\n    await this.updateGamesAsync();\r\n    this.getNewId();\r\n    this.updateTeam();\r\n    this.router.navigate([\"../game\", this.id, this.team, 1]);\r\n  }\r\n  joinGame = async() => {\r\n    let side = 2;\r\n    await this.updateGamesAsync();\r\n    if (!this.tryId()) {\r\n      if (this.allIDsandStates[this.id] == 2)\r\n        side = 3;\r\n      else {\r\n        alert(\"The ID entered is invalid! Check to make sure the entered ID is correct.\\n(or it's just a bug lol)\");\r\n        return;\r\n      }\r\n    }\r\n    this.updateTeam();\r\n    this.router.navigate([\"../game\", this.id, this.team, side]);\r\n  }\r\n\r\n  draw_background = () => {\r\n    if (this.nextCloud > 0)\r\n      this.nextCloud--;\r\n    else {\r\n      this.nextCloud = Math.floor(Math.random() * 40);\r\n      this.clouds.push(new Cloud());\r\n    }\r\n    \r\n    this.context.drawImage(this.background, 0, 0);\r\n\r\n    if (typeof this.clouds != 'undefined')\r\n      this.clouds.forEach((cloud) => {\r\n        cloud.draw(this.context);\r\n      });\r\n\r\n    setTimeout(this.draw_background, 100);\r\n  }\r\n}\r\n","<canvas id=\"background-canvas\" width=\"1500\" height=\"500\"></canvas>\r\n<div id=\"main-view\">\r\n    <h1>Multiplayer!</h1>\r\n    <app-team-select></app-team-select>\r\n\r\n    <button (click)=\"newGame()\" id=\"ng\">New Game!</button>\r\n\r\n    <button (click)=\"joinGame()\" class=\"unverified\" id=\"jg\">Join Game!</button>\r\n    <label for=\"game-id\" id=\"game-id-label\"><b>Game ID:</b></label>\r\n    <input type=\"number\" min=\"1000\" max=\"9999\" id=\"game-id\" placeholder=\"----\" name=\"game-id\">\r\n    <button id=\"game-browser\">Game Browser</button>\r\n</div>\r\n<div id=\"footer\">\r\n    <div id=\"footer-button-container\">\r\n        <button id=\"back\" [routerLink]=\"['']\">Back to Main Menu</button>\r\n        <button id=\"instructions\">Instructions</button>\r\n    </div>\r\n</div>\r\n\r\n<!-- Instructions Modal -->\r\n<div id=\"instruction-modal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n        <span class=\"close\">&times;</span>\r\n        <h1 class=\"modal-header\">Instructions:</h1>\r\n        <p>This is a castle defense game, the aim of the game is to power up and purchase units to attack the enemy castle while keeping your own castle safe!</p>\r\n        <br/>\r\n        <h1 class=\"modal-header\">Singleplayer:</h1>\r\n        <p>Choose your favorite team and battle against a variety of opponents in 8 different levels who will send units at you in a pre-defined pattern!</p>\r\n        <p>Be careful though! The levels get difficult very quickly!</p>\r\n        <br/>\r\n        <h1 class=\"modal-header\">Multiplayer:</h1>\r\n        <p>Pit your best strategies against your friends in a 2-player battle!</p>\r\n        <p>Create a new game and you will be assigned a random Game ID!</p>\r\n        <p>Once you have your ID, your friend will be able to join your game and the battle begins!</p>\r\n    </div>\r\n</div>\r\n\r\n<!-- Browser Modal -->\r\n<div id=\"game-browser-modal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n        <span class=\"close\">&times;</span>\r\n        <h1 class=\"modal-header\">Game Browser</h1>\r\n        <div *ngIf=\"gameIDs.length == 0; else showGameList\">\r\n            <p>No games are currently in session :/</p>\r\n        </div>\r\n        <ng-template #showGameList>\r\n            <div *ngFor=\"let id of gameIDs\" (click)=\"setId(id)\" class=\"game-browser-item\">\r\n                <span class=\"game-id\">Game: {{id}}</span>\r\n                <span *ngIf=\"allIDsandStates[id] == 1\" class=\"game-state\">Open</span>\r\n                <span *ngIf=\"allIDsandStates[id] == 2\" class=\"game-state\">Full</span>\r\n            </div>\r\n        </ng-template>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n//import { User } from './user';\r\n//import { UserService } from '../services/user.service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { CharacterService } from '../services/character.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\n\r\nexport class AppComponent implements OnInit {\r\n  //public static user: User;\r\n  public static teamMap: Map<string, string[]>;\r\n\r\n\r\n  constructor(private http: HttpClient, private characterServices: CharacterService/*, private userServices: UserService*/) {\r\n    //AppComponent.user = new User(this.userServices);\r\n  }\r\n\r\n  ngOnInit() {\r\n    AppComponent.teamMap = new Map<string, string[]>();\r\n    this.setupTeamMap();\r\n  }\r\n\r\n  setupTeamMap = async() => {\r\n    AppComponent.teamMap.set(\"white\", await this.characterServices.getTeam(\"white\"));\r\n    AppComponent.teamMap.set(\"green\", await this.characterServices.getTeam(\"green\"));\r\n    AppComponent.teamMap.set(\"blue\", await this.characterServices.getTeam(\"blue\"));\r\n    AppComponent.teamMap.set(\"purple\", await this.characterServices.getTeam(\"purple\"));\r\n    AppComponent.teamMap.set(\"yellow\", await this.characterServices.getTeam(\"yellow\"));\r\n    AppComponent.teamMap.set(\"orange\", await this.characterServices.getTeam(\"orange\"));\r\n    AppComponent.teamMap.set(\"red\", await this.characterServices.getTeam(\"red\"));\r\n    AppComponent.teamMap.set(\"black\", await this.characterServices.getTeam(\"black\"));\r\n  }\r\n}","<div id=\"view-container\">\r\n    <router-outlet></router-outlet>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from '../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GameService {\r\n  private http: HttpClient;\r\n \r\n  constructor(http: HttpClient) {\r\n    console.log(\"creating game service...\");\r\n    this.http = http;\r\n  }\r\n\r\n  public init(team: string, id: number): Promise<boolean> {\r\n    return this.http.get<boolean>(environment.apiURL + 'api/game/init/' + team + '/' + id).toPromise();\r\n  }\r\n  public play(id: number): Promise<boolean> {\r\n    return this.http.get<boolean>(environment.apiURL + 'api/game/play/' + id).toPromise();\r\n  }\r\n  public end(id: number): Promise<boolean> {\r\n    return this.http.get<boolean>(environment.apiURL + 'api/game/end/' + id).toPromise();\r\n  }\r\n  public getPlayerStats(id: number, player: number):Promise<string> {\r\n    return this.http.get<string>(environment.apiURL + 'api/game/getPlayerStats/' + id + '/' + player).toPromise();\r\n  }\r\n  public getAllGameIDs(): Promise<number[]> {\r\n    return this.http.get<number[]>(environment.apiURL + 'api/game/getallgameids').toPromise();\r\n  }\r\n  public getAllGameIDsAndStates(): Promise<string> {\r\n    return this.http.get<string>(environment.apiURL + 'api/game/getallgameidsandstates').toPromise();\r\n  }\r\n  public getLevelID(id: number): Promise<number> {\r\n    return this.http.get<number>(environment.apiURL + 'api/game/getlevelid/' + id).toPromise();\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\n\r\nimport { AppRoutingModule, routingComponents } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { CharacterBarComponent } from './character-bar/character-bar.component';\r\nimport { WelcomeComponent } from './welcome/welcome.component';\r\nimport { TeamSelectComponent } from './team-select/team-select.component';\r\nimport { LevelSelectComponent } from './level-select/level-select.component';\r\nimport { MultiplayerComponent } from './multiplayer/multiplayer.component';\r\nimport { CharacterInfoComponent } from './character-info/character-info.component';\r\nimport { TeamInfoComponent } from './team-info/team-info.component';\r\nimport { TypeinfoComponent } from './typeinfo/typeinfo.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    routingComponents,\r\n    CharacterBarComponent,\r\n    WelcomeComponent,\r\n    TeamSelectComponent,\r\n    LevelSelectComponent,\r\n    MultiplayerComponent,\r\n    CharacterInfoComponent,\r\n    TeamInfoComponent,\r\n    TypeinfoComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n  ],\r\n  providers: [\r\n    HTMLCanvasElement,\r\n    HttpClient  \r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AppComponent } from '../app.component';\r\n\r\n@Component({\r\n  selector: 'app-team-info',\r\n  templateUrl: './team-info.component.html',\r\n  styleUrls: ['./team-info.component.css']\r\n})\r\nexport class TeamInfoComponent implements OnInit {\r\n  currentTeam: string = \"white\";\r\n  currentUnits: string[];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.updateTeam();\r\n    document.getElementById(\"team-info-view\").onmouseup = () => {\r\n      this.updateTeam();\r\n    }\r\n  }\r\n\r\n  updateTeam = () => {\r\n    this.currentTeam = document.getElementsByClassName(\"selected\")[0].id;\r\n    this.currentUnits = AppComponent.teamMap.get(this.currentTeam);\r\n    document.getElementById(\"team-info-view\").style.backgroundColor = \"\"+this.currentTeam;\r\n  }\r\n}\r\n","<div id=\"team-info-view\">\r\n    <h2>Choose a Character to see details on them!</h2>\r\n    <div id=\"character-select-bar\">\r\n        <div *ngFor=\"let unit of currentUnits\" style=\"display: inline-block; margin: 10px;\">\r\n            <a [routerLink]=\"['../characterinfo', currentTeam, unit]\">\r\n                <img src=\"../../assets/img/icons/{{unit}} icon.png\">\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <app-team-select></app-team-select>\r\n</div>\r\n<div id=\"footer\">\r\n    <div id=\"footer-button-container\">\r\n        <button id=\"back\" [routerLink]=\"['']\">Back to Main Menu</button>\r\n    </div>\r\n</div>","import { HttpClient } from '@angular/common/http';\r\nimport { environment } from '../environments/environment';\r\n\r\nexport class ShopService {\r\n  private http: HttpClient;\r\n\r\n  constructor(http: HttpClient) {\r\n    this.http = http;\r\n  }\r\n\r\n  public buy(id: number, player: number, unit: string): Promise<boolean> {\r\n    return this.http.get<boolean>(environment.apiURL + 'api/game/buy/' + id + '/' + player + '/' + unit).toPromise();\r\n  }\r\n\r\n  public getNewIncomePrice(id: number, player: number): Promise<number> {\r\n    return this.http.get<number>(environment.apiURL + 'api/game/incomeprice/' + id + '/' + player).toPromise();\r\n  } \r\n  public getNewHealthPrice(id: number, player: number): Promise<number> {\r\n    return this.http.get<number>(environment.apiURL + 'api/game/healthprice/' + id + '/' + player).toPromise();\r\n  } \r\n}","import { Component, OnInit, OnChanges } from '@angular/core';\r\nimport { CharacterInfo } from './characterInfo';\r\nimport { AppComponent } from '../app.component';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CharacterService } from '../../services/character.service';\r\n\r\n@Component({\r\n  selector: 'app-character-info',\r\n  templateUrl: './character-info.component.html',\r\n  styleUrls: ['./character-info.component.css']\r\n})\r\nexport class CharacterInfoComponent implements OnInit, OnChanges {\r\n  team: string = \"white\";\r\n  name: string = \"doggo\";\r\n  \r\n  character: CharacterInfo = new CharacterInfo(\"white\", \"unknown\", this.characterServices);\r\n  fullTeam: any;\r\n  next: string = \"doggo\";\r\n  prev: string = \"doggo\";\r\n  \r\n  constructor(private route: ActivatedRoute, private characterServices: CharacterService) { }\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(map => {\r\n      var mapParams = <any> map;\r\n      this.team = mapParams.params.team;\r\n      this.name = mapParams.params.name;\r\n\r\n      this.character = new CharacterInfo(this.team, this.name, this.characterServices);\r\n\r\n      this.fullTeam = AppComponent.teamMap.get(this.team);\r\n      var index = this.fullTeam.indexOf(this.name);\r\n      this.next = this.fullTeam[(index+1)%8];\r\n      if (index == 0)\r\n        this.prev = this.fullTeam[7];\r\n      else\r\n        this.prev = this.fullTeam[index-1];\r\n\r\n      document.getElementById(\"main-view\").style.backgroundColor = this.team;\r\n    });\r\n  }\r\n\r\n  ngOnChanges() {\r\n    \r\n  }\r\n}\r\n","<div id=\"main-view\">\r\n    <div>\r\n        <h1>{{ character.name }}</h1>\r\n    </div>\r\n    <div class=\"info-container\">\r\n        <div class=\"image\" style=\"float: left; margin: 0px; width: 200px;\">\r\n            <img src=\"../../assets/img/units/{{name}}1.png\">\r\n        </div>\r\n        <div class=\"info\">\r\n            <div id=\"info-headers\">\r\n                Name:<br/>\r\n                Team:<br/>\r\n                Damage:<br/>\r\n                Damage Type:<br/>\r\n                Health:<br/>\r\n                Speed:<br/>\r\n                Description:<br/>\r\n            </div>\r\n            <div id=\"info-values\">\r\n                {{character.name}}<br/>\r\n                {{character.team}}<br/>\r\n                {{character.damage}}<br/>\r\n                {{character.type}} <div id=\"damage-type\"></div><br/>\r\n                {{character.health}}<br/>\r\n                {{character.speed}}<br/>\r\n                {{character.description}}<br/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id=\"footer\">\r\n    <div id=\"footer-content\">\r\n        <a class=\"image-link\" [routerLink]=\"['/characterinfo/', team, prev]\">\r\n            <img id=\"prev-info\" src=\"../../assets/img/icons/{{prev}} icon.png\">\r\n        </a>\r\n        <button id=\"back\" [routerLink]=\"['/teaminfo']\">Back to Team View</button>\r\n        <a class=\"image-link\" [routerLink]=\"['/characterinfo/', team, next]\">\r\n            <img id=\"next-info\" src=\"../../assets/img/icons/{{next}} icon.png\">\r\n        </a>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Unit } from './unit';\r\nimport { Player } from '../player';\r\nimport { Castle } from './castle'\r\n\r\nimport { GameService } from '../../services/game.service';\r\n\r\nimport { HubConnectionBuilder } from '@aspnet/signalr';\r\nimport { Cloud } from '../cloud';\r\nimport { CharacterBarComponent } from '../character-bar/character-bar.component';\r\n//import { AppComponent } from '../app.component';\r\n\r\n@Component({\r\n  selector: 'app-game',\r\n  templateUrl: './game.component.html',\r\n  styleUrls: ['./game.component.css', '../character-bar/character-bar.component.css']\r\n})\r\n\r\nexport class GameComponent implements OnInit, AfterViewInit {\r\n  public id: number;\r\n  public team: string;\r\n  public side: number;\r\n\r\n  private canvas: HTMLCanvasElement;\r\n  private context: CanvasRenderingContext2D;\r\n  private background: HTMLImageElement;\r\n\r\n  private units: Unit[];\r\n  private player1: Player;\r\n  private player2: Player;\r\n  private connectedPlayer: Player;\r\n\r\n  private clouds: Cloud[];\r\n  private nextCloud: number;\r\n\r\n  public gameResult: string = \"\";\r\n  public player1Stats: any = {\r\n    TotalIncome: {Item1: \"-\", Item2: \"0\"},\r\n    UnitsBought: {Item1: \"-\", Item2: \"0\"},\r\n    FavoriteUnit: {Item1: \"-\", Item2: \"0\"},\r\n    MostKills: {Item1: \"-\", Item2: \"0\"},\r\n    MostDamage: {Item1: \"-\", Item2: \"0\"},\r\n    MostCastleDamage: {Item1: \"-\", Item2: \"0\"},\r\n  };\r\n  public player2Stats: any = {\r\n    TotalIncome: {Item1: \"-\", Item2: \"0\"},\r\n    UnitsBought: {Item1: \"-\", Item2: \"0\"},\r\n    FavoriteUnit: {Item1: \"-\", Item2: \"0\"},\r\n    MostKills: {Item1: \"-\", Item2: \"0\"},\r\n    MostDamage: {Item1: \"-\", Item2: \"0\"},\r\n    MostCastleDamage: {Item1: \"-\", Item2: \"0\"},\r\n  };\r\n  public player1FavoriteUnitIcon: string = \"../../assets/img/icons/question icon.png\";\r\n  public player1MostKillsIcon: string = \"../../assets/img/icons/question icon.png\";\r\n  public player1MostDamageIcon: string = \"../../assets/img/icons/question icon.png\";\r\n  public player1MostCastleDamageIcon: string = \"../../assets/img/icons/question icon.png\";\r\n  public player2FavoriteUnitIcon: string = \"../../assets/img/icons/question icon.png\";\r\n  public player2MostKillsIcon: string = \"../../assets/img/icons/question icon.png\";\r\n  public player2MostDamageIcon: string = \"../../assets/img/icons/question icon.png\";\r\n  public player2MostCastleDamageIcon: string = \"../../assets/img/icons/question icon.png\";\r\n\r\n  constructor(private route: ActivatedRoute, private gameServices: GameService) { \r\n    this.background = new Image();\r\n    this.background.src = \"../../assets/img/background/background default.png\";\r\n  }\r\n\r\n  @ViewChild(CharacterBarComponent) \r\n    characterbar: CharacterBarComponent;\r\n\r\n  ngOnInit() {\r\n    this.player1 = new Player(0, 0, 0, 0, 0, new Castle(0, 0, \"white\", 0, 0, 0));\r\n    this.player2 = new Player(0, 0, 0, 0, 0, new Castle(0, 0, \"white\", 0, 0, 0));\r\n\r\n    this.route.paramMap.subscribe(map => {\r\n      var mapParams = <any> map;\r\n      this.id = mapParams.params.id;\r\n      this.team = mapParams.params.team;\r\n      this.side = mapParams.params.side;\r\n      if (this.side == 1)\r\n        this.connectedPlayer = this.player1;\r\n      else if (this.side == 2)\r\n        this.connectedPlayer = this.player2;\r\n      else\r\n        this.connectedPlayer = new Player(0, 0, 0, 0, 3, new Castle(0, 0, \"white\", 0, 0, 0));\r\n    });\r\n\r\n    this.clouds = [\r\n      new Cloud(100),\r\n      new Cloud(600),\r\n      new Cloud(900),\r\n      new Cloud(1300),\r\n    ];\r\n    this.nextCloud = Math.floor(Math.random() * 25);\r\n\r\n    this.units = new Array<Unit>();\r\n\r\n    if (this.side == 1)\r\n      this.init();\r\n    else\r\n      this.gameServices.init(this.team, this.id);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    let connection = new HubConnectionBuilder()\r\n      .withUrl(\"/gamehub\")\r\n      .build();\r\n\r\n    connection.start().then(() => {\r\n      console.log(\"connected!\");\r\n      connection.invoke(\"connectedto\", this.id);\r\n    });\r\n\r\n    connection.on(\"UpdateUnits\", (unitData) => {\r\n      this.units = Unit.parseUnits(unitData);\r\n      window.requestAnimationFrame(() => this.draw());\r\n    });\r\n    connection.on(\"UpdatePlayers\", (playerData) => {\r\n      this.player1.updatePlayer(playerData, 0);\r\n      this.player2.updatePlayer(playerData, 1);\r\n    });\r\n  \r\n    connection.on(\"EndGame\", async(side) => {\r\n      this.player1Stats = await this.gameServices.getPlayerStats(this.id, 1);\r\n      this.player2Stats = await this.gameServices.getPlayerStats(this.id, 2);\r\n      \r\n      this.player1FavoriteUnitIcon = \"../../assets/img/icons/\" + (<any>this.player1Stats).FavoriteUnit.Item1 + \" icon.png\";\r\n      this.player1MostKillsIcon = \"../../assets/img/icons/\" + (<any>this.player1Stats).MostKills.Item1 + \" icon.png\";\r\n      this.player1MostDamageIcon = \"../../assets/img/icons/\" + (<any>this.player1Stats).MostDamage.Item1 + \" icon.png\";\r\n      this.player1MostCastleDamageIcon = \"../../assets/img/icons/\" + (<any>this.player1Stats).MostCastleDamage.Item1 + \" icon.png\";\r\n      this.player2FavoriteUnitIcon = \"../../assets/img/icons/\" + (<any>this.player2Stats).FavoriteUnit.Item1 + \" icon.png\";\r\n      this.player2MostKillsIcon = \"../../assets/img/icons/\" + (<any>this.player2Stats).MostKills.Item1 + \" icon.png\";\r\n      this.player2MostDamageIcon = \"../../assets/img/icons/\" + (<any>this.player2Stats).MostDamage.Item1 + \" icon.png\";\r\n      this.player2MostCastleDamageIcon = \"../../assets/img/icons/\" + (<any>this.player2Stats).MostCastleDamage.Item1 + \" icon.png\";\r\n\r\n      if (side == this.side) {\r\n        this.gameResult = \"VICTORY\";\r\n        document.getElementById(\"endgame-modal-content\").style.backgroundColor = \"#ccffcc\";\r\n      }\r\n      else if (this.side > 2)\r\n        this.gameResult = \"PLAYER \" + side + \" WINS\";\r\n      else {\r\n        this.gameResult = \"DEFEAT\";\r\n        document.getElementById(\"endgame-modal-content\").style.backgroundColor = \"#ffcccc\";\r\n      }\r\n\r\n      document.getElementById(\"endgame-modal\").style.display = \"block\";\r\n    });\r\n\r\n    connection.onclose(() => {\r\n      if (this.side >= 3)\r\n        return;\r\n      document.getElementById(\"endgame-modal\").style.display = \"none\";      \r\n      this.gameServices.end(this.id);\r\n      this.reset();\r\n      delete(this.gameServices);\r\n    });\r\n\r\n    this.canvas = <HTMLCanvasElement> document.getElementById(\"game-canvas\");\r\n    this.context = this.canvas.getContext(\"2d\");\r\n    var menuButton = document.getElementById(\"main-menu\");\r\n    menuButton.onmouseup = () => {\r\n      connection.stop();\r\n    }\r\n\r\n    connection.on(\"AddCooldown\", (side, name) => {\r\n      if (this.connectedPlayer.side != side)\r\n        return;\r\n      this.characterbar.addCooldown(name);\r\n    });\r\n    connection.on(\"RemoveCooldown\", (side, name) => {\r\n      if (this.connectedPlayer.side != side)\r\n        return;\r\n      this.characterbar.removeCooldown(name);\r\n    })\r\n  }\r\n\r\n  public init = async() => {\r\n    await this.gameServices.init(this.team, this.id);\r\n\r\n    if (this.id < 1000 || this.id > 10000)\r\n      this.start();\r\n    else\r\n      this.waitForPlayer2();\r\n  }\r\n\r\n  public waitForPlayer2 = async() => {\r\n    this.draw_background(false);\r\n\r\n    if (this.player2.income < 0.01)\r\n      setTimeout(this.waitForPlayer2, 250);\r\n    else\r\n      this.start();\r\n  }\r\n\r\n  public start = async() => {\r\n    await this.gameServices.play(this.id);\r\n\r\n    window.requestAnimationFrame(() => this.draw());\r\n  }\r\n\r\n  public async draw() {\r\n    var ctx = this.context;\r\n\r\n    this.draw_background();\r\n\r\n    if (typeof this.units != 'undefined')\r\n      this.units.forEach((unit) => {\r\n        unit.draw(ctx);\r\n      });\r\n  }\r\n\r\n  public draw_background(connected = true) {\r\n    var ctx = this.context;\r\n    \r\n    ctx.drawImage(this.background, 0, 0)\r\n\r\n    if (typeof this.clouds != 'undefined')\r\n      this.clouds.forEach((cloud) => {\r\n        cloud.draw(ctx);\r\n      });\r\n    if (this.nextCloud > 0)\r\n      this.nextCloud--;\r\n    else {\r\n      this.nextCloud = Math.floor(Math.random() * 50);\r\n      this.clouds.push(new Cloud());\r\n    }\r\n    \r\n    if (this.side < 3) {\r\n      ctx.fillStyle = \"black\";\r\n      ctx.font = \"50px serif\";\r\n      ctx.fillText(\"Money: $\" + Math.floor(this.connectedPlayer.money), 10, 45);\r\n      ctx.font = \"14px serif\";\r\n      ctx.fillText(\"Income: $\" + Math.floor(this.connectedPlayer.income * 600) + \"/min\", 12, 60);\r\n      if (this.id >= 1000) {\r\n        ctx.font = \"14px serif\";\r\n        ctx.fillText(\"Game ID: \" + this.id, 1410, 15);\r\n      }\r\n    }\r\n\r\n    if (connected) {\r\n      this.player1.castle.draw(ctx);\r\n      this.player2.castle.draw(ctx);\r\n    }\r\n  }\r\n\r\n  reset = () => {\r\n    this.player1 = new Player(0, 0, 0, 0, 0, new Castle(0, 0, \"white\", 0, 0, 0));\r\n    this.player2 = new Player(0, 0, 0, 0, 0, new Castle(0, 0, \"white\", 0, 0, 0));\r\n    this.units = new Array<Unit>();\r\n\r\n    this.route.paramMap.subscribe(map => {\r\n      var mapParams = <any> map;\r\n      this.id = mapParams.params.id;\r\n      this.team = mapParams.params.team;\r\n      this.side = mapParams.params.side;\r\n      if (this.side == 1)\r\n        this.connectedPlayer = this.player1;\r\n      else if (this.side == 2)\r\n        this.connectedPlayer = this.player2;\r\n      else\r\n        this.connectedPlayer = new Player(0, 0, 0, 0, 3, new Castle(0, 0, \"white\", 0, 0, 0));\r\n    });\r\n\r\n    document.getElementById(\"main-menu\").style.display = \"none\";\r\n  }\r\n}\r\n","<script src=\"~/lib/signalr/signalr.js\"></script>\r\n\r\n<canvas id=\"game-canvas\" width=\"1500\" height=\"500\"></canvas>\r\n\r\n<app-character-bar [side]=\"side\" [team]=\"team\" [id]=\"id\" id=\"footer\"></app-character-bar>\r\n\r\n<!-- Endgame Modal -->\r\n<div id=\"endgame-modal\" class=\"modal\">\r\n    <div class=\"modal-content\" id=\"endgame-modal-content\">\r\n        <div id=\"endgame-header\">\r\n            <h1>{{ gameResult }}</h1>\r\n        </div>\r\n        <div id=\"endgame-stats\">\r\n            <div id=\"player1-stats\">\r\n                <h2>Player 1:</h2>\r\n                <table>\r\n                    <tr>\r\n                        <td>Total Income:</td>\r\n                        <td>{{ player1Stats.TotalIncome.Item2 }}</td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Units Bought:</td>\r\n                        <td>{{ player1Stats.UnitsBought.Item2 }}</td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr class=\"contains-icon\">\r\n                        <td>Favorite Unit:</td>\r\n                        <td>{{ player1Stats.FavoriteUnit.Item2 }}</td>\r\n                        <td>\r\n                            <img src=\"{{player1FavoriteUnitIcon}}\"/>\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"contains-icon\">\r\n                        <td>Most Damage:</td>\r\n                        <td>{{ player1Stats.MostDamage.Item2 }}</td>\r\n                        <td>\r\n                            <img src=\"{{player1MostDamageIcon}}\"/>\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"contains-icon\">\r\n                        <td>Most Castle Damage:</td>\r\n                        <td>{{ player1Stats.MostCastleDamage.Item2 }}</td>\r\n                        <td>\r\n                            <img src=\"{{player1MostCastleDamageIcon}}\"/>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <div id=\"player2-stats\">\r\n                <h2>Player 2:</h2>\r\n                <table>\r\n                    <tr>\r\n                        <td>Total Income:</td>\r\n                        <td>{{ player2Stats.TotalIncome.Item2 }}</td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Units Bought:</td>\r\n                        <td>{{ player2Stats.UnitsBought.Item2 }}</td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr class=\"contains-icon\">\r\n                        <td>Favorite Unit:</td>\r\n                        <td>{{ player2Stats.FavoriteUnit.Item2 }}</td>\r\n                        <td>\r\n                            <img src=\"{{player2FavoriteUnitIcon}}\"/>\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"contains-icon\">\r\n                        <td>Most Damage:</td>\r\n                        <td>{{ player2Stats.MostDamage.Item2 }}</td>\r\n                        <td>\r\n                            <img src=\"{{player2MostDamageIcon}}\"/>\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"contains-icon\">\r\n                        <td>Most Castle Damage:</td>\r\n                        <td>{{ player2Stats.MostCastleDamage.Item2 }}</td>\r\n                        <td>\r\n                            <img src=\"{{player2MostCastleDamageIcon}}\"/>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div id=\"endgame-button\">\r\n            <button [routerLink]=\"['/']\" id=\"main-menu\">Main Menu</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-team-select',\r\n  templateUrl: './team-select.component.html',\r\n  styleUrls: ['./team-select.component.css']\r\n})\r\nexport class TeamSelectComponent implements OnInit {\r\n\r\n  team = \"white\";\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    var teams = document.getElementsByClassName(\"team\");\r\n    \r\n    for (var i = 0; i < teams.length; i++) {\r\n      teams[i].addEventListener(\"mouseup\", (e) => {\r\n        var team = <HTMLElement> e.target;\r\n        for (var i = 0; i < teams.length; i++)\r\n          teams[i].classList.remove(\"selected\");\r\n        team.classList.add(\"selected\");\r\n      });\r\n    }\r\n  }\r\n}","<h2>Choose your team!</h2>\r\n<div id=\"team-select\">\r\n    <div class=\"team selected\" id=\"white\"></div>\r\n    <div class=\"team\" id=\"green\"></div>\r\n    <div class=\"team\" id=\"blue\"></div>\r\n    <div class=\"team\" id=\"purple\"></div>\r\n    <div class=\"team\" id=\"yellow\"></div>\r\n    <div class=\"team\" id=\"orange\"></div>\r\n    <div class=\"team\" id=\"red\"></div>\r\n    <div class=\"team\" id=\"black\"></div>\r\n</div>\r\n","export class Cloud {\r\n    x: number;\r\n    y: number;\r\n    speed: number;\r\n    image: HTMLImageElement;\r\n\r\n    constructor(x?: number) {\r\n        if (x)\r\n            this.x = x;\r\n        else\r\n            this.x = 1500;\r\n\r\n        this.y = Math.floor(Math.random() * 150);\r\n        this.speed = Math.floor(Math.random() * (12 - 2) + 2);\r\n\r\n        var id = Math.floor(Math.random() * (4 - 1) + 1);\r\n        this.image = new Image();\r\n        this.image.src = \"../../assets/img/background/clouds/cloud\" + id + \".png\";\r\n    }\r\n\r\n    draw = (ctx: CanvasRenderingContext2D) => {\r\n        ctx.drawImage(this.image, this.x, this.y);\r\n        this.x -= this.speed;\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { GameComponent } from './game/game.component';\r\nimport { WelcomeComponent } from './welcome/welcome.component';\r\nimport { LevelSelectComponent } from './level-select/level-select.component';\r\nimport { MultiplayerComponent } from './multiplayer/multiplayer.component';\r\nimport { TeamInfoComponent } from './team-info/team-info.component';\r\nimport { TypeinfoComponent } from './typeinfo/typeinfo.component';\r\nimport { CharacterInfoComponent } from './character-info/character-info.component';\r\n\r\nconst routes: Routes = [\r\n  { path: \"game/:id/:team/:side\", component: GameComponent },\r\n  { path: \"levelselect\", component: LevelSelectComponent },\r\n  { path: \"multiplayer\", component: MultiplayerComponent },\r\n  { path: \"game/10000\", component: MultiplayerComponent },\r\n  { path: \"teaminfo\", component: TeamInfoComponent },\r\n  { path: \"typeinfo\", component: TypeinfoComponent },\r\n  { path: \"characterinfo/:team/:name\", component: CharacterInfoComponent },\r\n  { path: \"\", component: WelcomeComponent },\r\n  { path: \"**\", component: WelcomeComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n\r\nexport const routingComponents = [ \r\n  GameComponent, \r\n  WelcomeComponent, \r\n  LevelSelectComponent,\r\n  MultiplayerComponent,\r\n  TeamInfoComponent,\r\n  TypeinfoComponent,\r\n  CharacterInfoComponent\r\n];\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}